<app-menu-lateral></app-menu-lateral>

<div class="card">
  <p-toast></p-toast>

  <p-fieldset>
    <ng-template pTemplate="header">
      <div class="flex align-items-center text-primary">
        <span class="pi pi-calendar mr-2 text-lg-Cal"></span>
        <span class="font-bold text-lg">
          <h4 class="text-center">Gerenciar Utilizadores</h4>
        </span>
      </div>
    </ng-template>

    <div class="container mt-4">
        <!-- Tabela de Profissionais -->
        <div class="row mt-5">
          <div class="col-md-12">
            <div class="container">
              <h2>Lista de Utilizadores</h2>
      
              <div class="p-inputgroup mb-3">
                <span class="p-inputgroup-addon">
                  <i class="pi pi-search"></i>
                </span>
                <input type="text" pInputText placeholder="Pesquisar" (input)="applyFilterGlobal($event)" />
              </div>
      
              <p-table
                #table
                [value]="users"
                [paginator]="true"
                [rows]="10"
                [globalFilterFields]="['nomeCompleto','role', 'bi','userName','email']"
                [scrollable]="true"
                scrollHeight="auto"
                styleClass="adjusted-table"
              >
                <ng-template pTemplate="header">
                  <tr>
                    <th>Nome Completo</th>
                    <th>Email</th>
                    <th>Telefone</th>
                    <th>Foto</th>
                    <th>BI</th>
                    <th>Username</th>
                    <th>Status</th>
                    <th>Role</th>
                    <th>Operações</th>
                  </tr>
                </ng-template>
                <ng-template pTemplate="body" let-user>
                  <tr>
                    <td>{{ user.nomeCompleto }}</td>
                    <td>{{ user.email }}</td>
                    <td>{{ user.telefone }}</td>
                    <td>
                      <img src="./assets/{{user.foto}}" alt="Foto do Utilizador" width="50">
                    </td>
                    <td>{{ user.bi }}</td>
                    <td>{{ user.userName }}</td>
                    <td>{{ user.status ? 'Ativo' : 'Inativo' }}</td>
                    <td>{{ user.role }}</td>
                    <td>
                      <button class="btn btn-primary" (click)="toggleActivation(user.id)">
                        {{ user.status ? 'Desativar' : 'Ativar' }}
                      </button>
                    </td>
                  </tr>
                </ng-template>
              </p-table>
              
            </div>
          </div>
        </div>
      </div>
      
  </p-fieldset>
  <p-confirmDialog></p-confirmDialog>


  
</div>

<app-footer></app-footer>
