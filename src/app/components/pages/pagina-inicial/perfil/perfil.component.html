
<app-pagina-inicial *ngIf="!(isAdmin())"></app-pagina-inicial>
<app-menu-lateral *ngIf="isAdmin()" ></app-menu-lateral>
<div class="container mt-5">
    <div class="row">
      <div class="col-md-3">
        <div class="list-group">
          <a class="list-group-item list-group-item-action active" id="v-pills-home-tab" data-toggle="pill" role="tab" aria-controls="v-pills-home" aria-selected="true">
            Informações Pessoais
          </a>
          
          <a *ngIf="!(isAdmin())" class="list-group-item list-group-item-action" id="v-pills-profile-tab" data-toggle="pill" role="tab" aria-controls="v-pills-profile" aria-selected="false">
            Histórico de Serviços
          </a>
        </div>
      </div>
      <div class="col-md-9">
        <div class="tab-content" id="v-pills-tabContent">
          <div class="tab-pane fade show active" id="v-pills-home" role="tabpanel" aria-labelledby="v-pills-home-tab">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Informações Pessoais <b> {{userForm.value.username}} </b> </h5>
                <p-toast></p-toast> <!-- Adicione isto no template -->

                <form [formGroup]="userForm" (ngSubmit)="save()">
                  <div class="form-group">
                    <label for="fullName">Nome Completo</label>
                    <input id="fullName" formControlName="fullName" class="form-control" type="text" [pKeyFilter]="blockChars1">
                  </div>
                
                  <div class="form-group">
                    <label for="email">Endereço de Email</label>
                    <input id="email" formControlName="email" class="form-control" type="email" [pKeyFilter]="blockCharsN">
                  </div>
                
                  <div class="form-group">
                    <label for="phone">Telemóvel</label>
                    <input id="phone" formControlName="phone" class="form-control" type="text" maxlength="9" pKeyFilter="int" >
                  </div>
                
                  <div class="form-group mt-4">
                    <div class="file-input-wrapper">
                      <button type="button" class="btn btn-upload">Escolher Foto</button>
                      <input id="photo" type="file" (change)="onPhotoSelected($event)" accept="image/*">
                    </div>
                    <img *ngIf="photoPreview" [src]="photoPreview" class="img-thumbnail mt-2" alt="Foto do Usuário" width="150">
                  </div>
                
                  <div class="form-group">
                    <label for="idCard">Bilhete de Identidade</label>
                    <input id="idCard" formControlName="idCard" class="form-control" type="text">
                  </div>
                
                  <div class="form-group">
                    <label for="username">Username</label>
                    <input id="username" formControlName="username" class="form-control" type="text" [pKeyFilter]="blockChars">
                  </div>
                
                  <div class="form-group">
                    <label for="password">Password</label>
                    <input id="password" formControlName="password" class="form-control" type="password">
                  </div>
                
                  <div class="form-group">
                    <label for="confirmPassword">Confirmação da Password</label>
                    <input id="confirmPassword" formControlName="confirmPassword" class="form-control" type="password">
                  </div>
                
                  <button type="submit" class="btn btn-primary mt-3">Salvar</button>
                </form>
                
                
                
              </div>
            </div>
          </div>
         <!--

          <div class="tab-pane fade" id="v-pills-profile" role="tabpanel" aria-labelledby="v-pills-profile-tab">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Histórico de Serviços</h5>
                <ul class="list-group">
                  <li *ngFor="let service of serviceHistory" class="list-group-item">
                    <strong>Serviço:</strong> {{ service.service }} <br>
                    <strong>Data:</strong> {{ service.date }} <br>
                    <strong>Prestador:</strong> {{ service.provider }}
                  </li>
                </ul>
              </div>
            </div>
          </div>
          <div class="tab-pane fade" id="v-pills-messages" role="tabpanel" aria-labelledby="v-pills-messages-tab">
            <div class="card">
              <div class="card-body">
                <h5 class="card-title">Preferências</h5>
                <div>
                  <p><strong>Notificações:</strong> {{ user.preferences.notifications ? 'Ativadas' : 'Desativadas' }}</p>
                  <p><strong>Categorias Favoritas:</strong></p>
                  <ul>
                    <li *ngFor="let category of user.preferences.favoriteCategories">{{ category }}</li>
                  </ul>
                </div>
              </div>
            </div>
          </div>
                */
                        -->
        </div>
      </div>
    </div>
  </div>
  
  <app-footer></app-footer>
  